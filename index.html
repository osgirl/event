<!DOCTYPE html>
<!--To put correct ie classes on document root to essentially enable css conditionals-->
<!--[if IE 7]>         <html class="lt-ie10 lt-ie9 lt-ie8" > <![endif]-->
<!--[if IE 8]>         <html class="lt-ie10 lt-ie9" > <![endif]-->
<!--[if IE 9]>         <html class="lt-ie10" > <![endif]-->
<!--[if gt IE 9]><!--> <html lang="en" > <!--<![endif]-->
<!--end css conditionals-->
<head lang="en">
    <meta charset="UTF-8">
    <title>Event</title>

    <link rel="stylesheet" href="css/demo.css"/>
    <script src="js/event.js"></script>
</head>
<body>

<h1>Event
    <small  class="demo-version text--secondary">v0.1.2
        <a href="https://github.com/skyglobal/event" class="text--secondary">
            <span class="demo-icon demo-icon--github"  aria-hidden=true></span>
            <span class="speak">Github Repo</span>
        </a></small>
</h1>





<h2 id="live">Live</h2>

<code>event.live(events, selector, eventHandler);</code>

<div>
    <p>You can JS events on elements that have been added to the page after the JS has been loaded.</p>
    <p> <a href="#" class="demo-live">Click here to trigger the 'live' event</a>
        <span id="demo-live-result"></span></p>
</div>

<script>
    var elLiveResult = document.getElementById('demo-live-result');

    function update(){
        var span = document.createElement('div');
        span.classList.add('demo-live');
        span.innerHTML = 'New element, click me!';
        elLiveResult.appendChild(span);
    }

    skyComponents.event.live('click','.demo-live', update);
</script>
<h2 id="off">Off</h2>

<code>event.off(el, event, fn);</code>

<div>
    <p>You can turn off events that were previously applied using the <code>on</code> method above.</p>
    <p><a id="css-demo-event-off" href="#"> clicking here will disabled the 'on' link below</a>
    </p>
</div>

<ul class="list list--grey">
    <li><code>el</code> : can be a node or nodeList</li>
    <li><code>event</code> : can be an event-name or list of events (separated by spaces)</li>
    <li><code>fn</code> : function to be removed when event is triggered</li>
</ul>

<script>
    var elOff = document.getElementById('css-demo-event-off');

    skyComponents.event.on(elOff,'click', updateEventOff);

    function updateEventOff(){
        skyComponents.event.off(document.getElementById('css-demo-event-on'), 'click', window.updateEventOn);
    }
</script>
<h2 id="on">On</h2>

<code>event.on(el, event, fn);</code>

<div>
    <p>You can listen for standard and custom (non-jQuery) JS events</p>
    <p class="">
        <a id="css-demo-event-on" href="#"> This hasn't been clicked. click here to update</a>
    </p>
</div>

<ul class="list list--grey">
    <li><code>el</code> : can be a node or nodeList</li>
    <li><code>event</code> : can be an event-name or list of events (separated by spaces)</li>
    <li><code>fn</code> : function to be called when event is triggered</li>
</ul>

<script>
    var elOn = document.getElementById('css-demo-event-on');

    window.updateEventOn = function(){
        elOn.innerHTML = 'This has been clicked already.';
    };

    skyComponents.event.on(elOn,'click',window.updateEventOn);
</script>
<h2 id="ready">Ready</h2>
<code>event.ready(fn);</code>

<div>
    <p>You can detect when the document has finished loading everything except images:</p>
    <p><span id="css-demo-event-ready" class="medium">Document is loading...</span></p>
</div>

<script>
    function updateEventReady(){
        document.getElementById('css-demo-event-ready').innerHTML = 'Document has finished loading.';
    }

    skyComponents.event.ready(updateEventReady);
</script>
<h2 id="resizeend">Resize-end</h2>
<code>event.on(window, 'resizeend', fn);</code>

<div>
    <p>You can know the moment (200ms) a user has finished resizing the browser</p>
    <p class="medium">
        <span id="css-demo-event-resizeend">not re-sized.</span>
    </p>
</div>

<script>
    var elResizeEnd = document.getElementById('css-demo-event-resizeend');

    function updateEventResizeEnd(){
        elResizeEnd.innerHTML = 'boom. resized.';
    }

    skyComponents.event.on(window,'resizeend',updateEventResizeEnd);
</script>
<h2 id="trigger">Trigger</h2>

<code>event.trigger(el, event);</code>

<div>
    <p>You can trigger standard and custom (non-jQuery) JS events.</p>
    <p> <a href="#" id="css-demo-event-trigger">Click here to trigger the 'custom' event</a>
        <span id="css-demo-event-trigger-custom"></span></p>
</div>

<ul class="list list--grey">
    <li><code>el</code> : the node of which to trigger the event</li>
    <li><code>event</code> : Event-name to be triggered</li>
</ul>

<script>
    var eltrigger = document.getElementById('css-demo-event-trigger');
    var eltriggerCustom = document.getElementById('css-demo-event-trigger-custom');

    function updateEventtrigger(){
        eltrigger.innerHTML = 'now my throat is sore';
        skyComponents.event.trigger(eltriggerCustom,'demoCustomtrigger');
    }

    function updateEventtriggerCustom(){
        eltriggerCustom.innerHTML = ' ....shhh.';
    }

    skyComponents.event.on(eltrigger,'click',updateEventtrigger);
    skyComponents.event.on(eltriggerCustom,'demoCustomtrigger',updateEventtriggerCustom);
</script>